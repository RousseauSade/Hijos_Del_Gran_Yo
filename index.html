<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iglesia Hijos del Gran Yo Soy</title>
    <link rel="icon" href="./assets/images/favicon.ico">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <a href="index.html" class="logo-container">
            <!-- Reemplaza esta URL por la ruta a tu logo. Ej: 'images/logo.png' -->
            <img src="./assets/images/Dise침o sin t칤tulo (61).png" alt="Logo ICM" class="header-logo">
            <h1>ICM Hijos del Gran Yo Soy</h1>
        </a>
        <nav>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="nosotros.html">Nosotros</a></li>
                <li><a href="sermones.html">Sermones</a></li>
            </ul>
        </nav>
        <button class="menu-toggle" aria-label="Abrir men칰">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </nav>
    </header>

    <main>
        <section id="welcome">
            <h2>Bienvenidos a Nuestra Casa</h2>
            <p>Somos una comunidad de fe apasionada por compartir el amor de Cristo y crecer juntos en Su palabra. Encontrar치s un lugar donde sentirte en familia, ser edificado y encontrar prop칩sito. Te invitamos a explorar nuestro sitio y, mejor a칰n, a visitarnos en persona.</p>
            <a href="nosotros.html" class="cta-button">Con칩cenos M치s</a>
        </section>

        <section id="streaming">
            <h2>Transmisi칩n en Vivo</h2>
            <p>춰Acomp치침anos en vivo cada semana! No te pierdas nuestras reuniones y pr칠dicas directamente desde YouTube.</p>
            <div class="video-container">
                <!-- Embebido de la transmisi칩n en vivo de YouTube -->
                <iframe id="liveFrame"
                        src=""
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen>
                </iframe>
            </div>
        </section>

        <section id="gallery">
            <h2>Galer칤a de Momentos</h2>
            <div class="slider-container">
                <div class="slide active">
                    <!-- Reemplaza esta URL por la de tu imagen -->
                    <img src="./assets/images/Dise침o sin t칤tulo (62).png" alt="Foto del ministerio">
                </div>
                <div class="slide">
                    <!-- Reemplaza esta URL por la de tu imagen -->
                    <img src="./assets/images/LOGOS ICM HIJOS_20251107_235157_0000.png" alt="Foto de logo del campamento">
                </div>
                <div class="slide">
                    <!-- Reemplaza esta URL por la de tu imagen -->
                    <img src="./assets/images/Dise침o sin t칤tulo (61).png" alt="Foto del logo de la iglesia">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>
                
                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <div class="slide">
                    <img src="" alt="">
                </div>

                <button class="slider-btn prev">&#10094;</button>
                <button class="slider-btn next">&#10095;</button>
            </div>
        </section>

        <section id="events">
            <h2>Pr칩ximos Eventos</h2>
            <div class="event-list">
                <div class="event-item"><h3>Reuni칩n de J칩venes</h3><p>Viernes, 7:00 PM - Sal칩n principal</p></div>
                <div class="event-item"><h3>Servicio Dominical</h3><p>Domingo, 10:00 AM - Auditorio</p></div>
                <div class="event-item"><h3>Estudio B칤blico</h3><p>Mi칠rcoles, 6:30 PM - En l칤nea</p></div>
            </div>
        </section>
    </main>

    <footer>
        <div class="social-links">
            <!-- Reemplaza # con los enlaces a tus redes sociales -->
            <a href="#" target="_blank" title="YouTube">郊윒잺</a>
            <a href="#" target="_blank" title="Facebook">游녨</a>
        </div>
        <p>&copy; 2025 ICM Hijos del Gran Yo Soy. Todos los derechos reservados.</p>
    </footer>

    <script>
        const menuToggle = document.querySelector('.menu-toggle');
        const navUl = document.querySelector('nav ul');

        menuToggle.addEventListener('click', () => {
            navUl.classList.toggle('active');
            menuToggle.classList.toggle('active');
        });

        // Carga din치mica del stream de YouTube
        const API_KEY = "AQU칈_DEBES_COLOCAR_TU_API_KEY"; 
        const CHANNEL_ID = "UCv-A522gA3o_G2_p9-2Yy_A"; // ID de "iglesiahijosdelgranyosoy"
        const iframe = document.getElementById("liveFrame");

        async function loadLiveStream() {
            // URL de respaldo que muestra los 칰ltimos videos del canal
            const fallbackUrl = `https://www.youtube.com/embed/videoseries?list=UUv-A522gA3o_G2_p9-2Yy_A`;
            iframe.src = fallbackUrl; // Carga el contenido de respaldo primero

            try {
                const searchUrl = `https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${CHANNEL_ID}&eventType=live&type=video&key=${API_KEY}`;
                const response = await fetch(searchUrl);
                const data = await response.json();

                if (data.items && data.items.length > 0) {
                    // Si hay una transmisi칩n en vivo, la muestra
                    const liveVideoId = data.items[0].id.videoId;
                    iframe.src = `https://www.youtube.com/embed/${liveVideoId}?autoplay=1&mute=1`;
                }
            } catch (error) {
                console.error("Error al buscar transmisi칩n en vivo. Se mostrar치 la lista de videos.", error);
                // Si hay un error con la API, el iframe ya tiene la URL de respaldo
            }
        }

        loadLiveStream();

        // L칩gica del Slider de Galer칤a
        const slides = document.querySelectorAll('.slide');
        const nextBtn = document.querySelector('.next');
        const prevBtn = document.querySelector('.prev');
        let currentSlide = 0;
        let slideInterval;

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.remove('active');
                if (i === index) {
                    slide.classList.add('active');
                }
            });
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(currentSlide);
        }

        function startSlider() {
            slideInterval = setInterval(nextSlide, 5000); // Cambia cada 5 segundos
        }

        nextBtn.addEventListener('click', () => {
            nextSlide();
            clearInterval(slideInterval); // Detiene el auto-play si se usa manualmente
        });

        prevBtn.addEventListener('click', () => {
            prevSlide();
            clearInterval(slideInterval); // Detiene el auto-play si se usa manualmente
        });

        startSlider(); // Inicia el slider autom치ticamente
    </script>
</body>
</html>